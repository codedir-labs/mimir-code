---
title: Documentation Best Practices
description: Guidelines for writing and maintaining Mimir documentation with Nextra
---

import { Callout, Steps, Tabs, Tab } from 'nextra/components'

# Documentation Best Practices

This guide covers best practices for maintaining and contributing to Mimir's documentation using Nextra.

## Nextra Overview

Nextra is a Next.js-based static site generator optimized for documentation. It provides:

- Built-in full-text search
- Dark/light theme support
- Internationalization (i18n)
- MDX support (Markdown + React components)
- Git-based timestamp tracking
- Automatic navigation generation

## File Organization

###Structure

```
docs/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ index.mdx                 # Home page
‚îÇ   ‚îú‚îÄ‚îÄ _meta.json                # Top-level navigation
‚îÇ   ‚îú‚îÄ‚îÄ getting-started/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.mdx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ installation.mdx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ configuration.mdx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ _meta.json
‚îÇ   ‚îú‚îÄ‚îÄ guides/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _meta.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.mdx
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _meta.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.mdx
‚îÇ   ‚îî‚îÄ‚îÄ _app.tsx                  # Custom App component
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ globals.css               # Global styles
‚îú‚îÄ‚îÄ theme.config.tsx              # Theme configuration
‚îú‚îÄ‚îÄ next.config.mjs               # Next.js config
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

### Naming Conventions

- **Files**: Use kebab-case for MDX files: `keyboard-shortcuts.mdx`
- **Directories**: Use kebab-case: `getting-started/`, `api-reference/`
- **Meta files**: Always name as `_meta.json` for navigation configuration

<Callout type="info">
  Files starting with underscore (`_`) are special Next.js/Nextra files and won't be rendered as pages.
</Callout>

## Navigation with _meta.json

The `_meta.json` file controls sidebar navigation order and configuration.

### Basic Structure

```json
{
  "index": {
    "title": "Introduction",
    "type": "page"
  },
  "installation": {
    "title": "Installation",
    "type": "page"
  },
  "configuration": {
    "title": "Configuration",
    "type": "page"
  }
}
```

### Advanced Options

```json
{
  "index": {
    "title": "Home",
    "type": "page",
    "display": "hidden",          // Hide from sidebar
    "theme": {
      "breadcrumb": false,        // Disable breadcrumbs
      "sidebar": false,           // Hide sidebar
      "toc": false               // Hide table of contents
    }
  },
  "advanced": {
    "title": "Advanced Topics",
    "type": "separator"           // Section separator
  },
  "api-reference": {
    "title": "API Reference ‚Üó",
    "href": "/api",              // Custom URL
    "newWindow": true            // Open in new tab
  }
}
```

## Writing MDX Content

### Frontmatter

Always include frontmatter at the top of MDX files:

```mdx
---
title: Page Title
description: Brief description for SEO and social sharing
---

# Page Content
```

### Headings

Use semantic heading hierarchy:

```mdx
# Page Title (H1) - Only one per page

## Main Section (H2)

### Subsection (H3)

#### Details (H4)
```

<Callout type="warning">
  Never skip heading levels. Always go from H2 ‚Üí H3 ‚Üí H4, not H2 ‚Üí H4.
</Callout>

### Code Blocks

Use syntax highlighting with language tags:

````mdx
```typescript
interface Config {
  provider: string;
  apiKey: string;
}
```
````

**Supported languages**: typescript, javascript, bash, python, json, yaml, sql, diff, and more.

#### With Filename

````mdx
```typescript filename="src/config.ts"
export const config: Config = {
  provider: 'deepseek',
  apiKey: process.env.API_KEY
};
```
````

#### With Line Highlighting

````mdx
```typescript {2,4-6}
interface Config {
  provider: string;  // Highlighted
  apiKey: string;
  temperature: number;  // Highlighted
  maxTokens: number;    // Highlighted
  timeout: number;      // Highlighted
}
```
````

#### With Copy Button

Nextra enables copy buttons by default. Disable for specific blocks:

````mdx
```bash copy=false
# This command won't have a copy button
rm -rf /
```
````

### Callouts/Admonitions

Use Nextra's built-in Callout component:

```mdx
import { Callout } from 'nextra/components'

<Callout type="info">
  Informational message
</Callout>

<Callout type="warning">
  Warning message
</Callout>

<Callout type="error">
  Error or danger message
</Callout>

<Callout emoji="üéâ">
  Custom emoji callout
</Callout>
```

### Steps Component

For sequential instructions:

```mdx
import { Steps } from 'nextra/components'

<Steps>

### Install dependencies

Run `npm install` in your project

### Configure settings

Edit `.mimir/config.yml`

### Start using

Run `mimir` to begin

</Steps>
```

### Tabs Component

For alternative content:

```mdx
import { Tabs, Tab } from 'nextra/components'

<Tabs items={['npm', 'yarn', 'pnpm']}>
  <Tab>
    ```bash
    npm install mimir-code
    ```
  </Tab>
  <Tab>
    ```bash
    yarn add mimir-code
    ```
  </Tab>
  <Tab>
    ```bash
    pnpm add mimir-code
    ```
  </Tab>
</Tabs>
```

### Cards for Features

Use custom CSS classes for feature cards:

```mdx
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
  <div className="feature-card">
    ### Feature Name
    Description of the feature
  </div>

  <div className="feature-card">
    ### Another Feature
    Description here
  </div>
</div>
```

## Dark/Light Theme Support

### Theme Configuration

Themes are configured in `theme.config.tsx`:

```typescript
export default {
  darkMode: true,                    // Enable dark mode toggle
  nextThemes: {
    defaultTheme: 'system',          // Use system preference
    storageKey: 'mimir-theme',       // LocalStorage key
  },
  primaryHue: 212,                   // Primary color hue
  primarySaturation: 100,            // Primary color saturation
}
```

### Theme-Aware Styling

Use CSS variables that adapt to theme:

```css
/* styles/globals.css */

/* Light mode */
:root {
  --custom-bg: #ffffff;
  --custom-text: #000000;
}

/* Dark mode */
.dark {
  --custom-bg: #000000;
  --custom-text: #ffffff;
}

.my-component {
  background-color: var(--custom-bg);
  color: var(--custom-text);
}
```

### Built-in Theme Variables

Nextra provides theme-aware variables:

```css
var(--nextra-bg)                 /* Background color */
var(--nextra-border)             /* Border color */
var(--nextra-primary-hue)        /* Primary hue */
```

<Callout type="warning">
  Always test documentation in both light and dark modes before publishing.
</Callout>

## Internationalization (i18n)

### Configuring Languages

In `theme.config.tsx`:

```typescript
export default {
  i18n: [
    { locale: 'en', text: 'English' },
    { locale: 'es', text: 'Espa√±ol' },
    { locale: 'fr', text: 'Fran√ßais' },
    { locale: 'de', text: 'Deutsch' },
    { locale: 'zh', text: '‰∏≠Êñá' },
    { locale: 'ja', text: 'Êó•Êú¨Ë™û' },
  ],
}
```

### Translating Content

Create locale-specific versions:

```
pages/
‚îú‚îÄ‚îÄ index.mdx              # English (default)
‚îú‚îÄ‚îÄ index.es.mdx           # Spanish
‚îú‚îÄ‚îÄ index.fr.mdx           # French
‚îú‚îÄ‚îÄ getting-started/
‚îÇ   ‚îú‚îÄ‚îÄ index.mdx          # English
‚îÇ   ‚îú‚îÄ‚îÄ index.es.mdx       # Spanish
‚îÇ   ‚îî‚îÄ‚îÄ index.fr.mdx       # French
```

### Translation Best Practices

<Steps>

### Start with complete English docs

Ensure English version is accurate and complete

### Prioritize important pages

Translate high-traffic pages first (home, getting started, installation)

### Use consistent terminology

Maintain a glossary of translated technical terms

### Review with native speakers

Have translations reviewed by native speakers when possible

### Keep translations in sync

When updating English docs, flag corresponding translations for update

</Steps>

<Callout type="info">
  Use comments in translation files to indicate when they need updating:
  ```mdx
  <!-- NEEDS UPDATE: English version updated 2024-01-15 -->
  ```
</Callout>

## Search Functionality

### Built-in Search

Nextra includes FlexSearch for full-text search. Configuration in `next.config.mjs`:

```javascript
import nextra from 'nextra';

const withNextra = nextra({
  theme: 'nextra-theme-docs',
  themeConfig: './theme.config.tsx',
  search: {
    codeblocks: true,        // Search inside code blocks
  },
});
```

### Search Optimization

**Make content searchable**:

- Use descriptive headings
- Include keywords naturally in content
- Add alternative terms in callouts
- Use descriptive code comments

**Example**:

```mdx
## Installation

You can install Mimir using npm, yarn, or pnpm.

<Callout>
  Also known as: setup, getting started, download
</Callout>
```

### Improving Search Results

1. **Clear titles**: Use specific, descriptive titles
2. **Keywords early**: Put important keywords early in content
3. **Structured content**: Use headings and lists
4. **Avoid jargon**: Explain technical terms
5. **Add metadata**: Include relevant frontmatter

## GitHub Pages Deployment

### Repository Setup

<Steps>

### Enable GitHub Pages

Go to Settings ‚Üí Pages ‚Üí Build and deployment ‚Üí GitHub Actions

### Update repository URL

In `theme.config.tsx`, replace placeholder URLs:

```typescript
project: {
  link: 'https://github.com/YOUR_USERNAME/mimir',
},
docsRepositoryBase: 'https://github.com/YOUR_USERNAME/mimir/tree/main/docs',
```

### Configure base path

In `next.config.mjs`:

```javascript
export default withNextra({
  basePath: process.env.BASE_PATH || '',
  // For user/org pages: basePath should be ''
  // For project pages: basePath should be '/repository-name'
});
```

### Commit and push

The GitHub Actions workflow will deploy automatically

</Steps>

### Custom Domain (Optional)

<Steps>

### Add CNAME file

Create `docs/public/CNAME`:

```
docs.mimir-code.dev
```

### Configure DNS

Add DNS records:
```
Type: CNAME
Name: docs
Value: YOUR_USERNAME.github.io
```

### Update in GitHub Settings

Settings ‚Üí Pages ‚Üí Custom domain

</Steps>

## Writing Guidelines

### Tone and Style

- **Clear and concise**: Avoid unnecessary words
- **Active voice**: "Run the command" not "The command should be run"
- **Present tense**: "Mimir creates" not "Mimir will create"
- **Direct address**: Use "you" to address the reader
- **Avoid jargon**: Explain technical terms on first use

### Content Structure

<Steps>

### Start with context

Explain what the reader will learn

### Provide examples

Show real code examples

### Include visuals

Use code blocks, diagrams, tables

### Link related topics

Cross-reference related documentation

### End with next steps

Guide readers to relevant content

</Steps>

### Code Examples

**Good code example**:

```typescript
// ‚úÖ Good: Complete, working example with context
import { Agent } from 'mimir-code';

const agent = new Agent({
  provider: 'deepseek',
  apiKey: process.env.DEEPSEEK_API_KEY,
});

await agent.run('Add error handling to the login function');
```

**Bad code example**:

```typescript
// ‚ùå Bad: Incomplete, unclear context
agent.run('do something');
```

### Accessibility

- **Alt text**: Provide for all images
- **Descriptive links**: Avoid "click here", use "read the installation guide"
- **Semantic HTML**: Use proper heading hierarchy
- **Color contrast**: Ensure text is readable in both themes

## Performance Best Practices

### Image Optimization

- **Use Next.js Image component** when possible
- **Compress images**: Use tools like ImageOptim or Squoosh
- **Appropriate formats**: WebP for photos, SVG for diagrams
- **Lazy loading**: Images load as needed

### Build Optimization

```javascript
// next.config.mjs
export default withNextra({
  // Static export for GitHub Pages
  output: 'export',

  // Optimize images
  images: {
    unoptimized: true, // Required for static export
  },

  // Minify output
  swcMinify: true,
});
```

### Reducing Bundle Size

- **Import only what you need**: `import { Callout } from 'nextra/components'`
- **Code splitting**: Large components in separate files
- **Remove unused dependencies**: Regular audit

## Version Control

### Git Workflow

```bash
# Create feature branch for docs changes
git checkout -b docs/improve-installation-guide

# Make changes to docs
# ...

# Commit with clear message
git commit -m "docs: improve installation guide with troubleshooting section"

# Push and create PR
git push origin docs/improve-installation-guide
```

### Commit Message Convention

```
docs: <summary>

<optional body>

<optional footer>
```

**Examples**:
```
docs: add keyboard shortcuts guide
docs: update API reference for v2.0
docs: fix typo in configuration example
docs(i18n): add Spanish translation for getting started
```

### Review Checklist

Before submitting documentation changes:

- [ ] All links work (no 404s)
- [ ] Code examples are tested and work
- [ ] Spelling and grammar checked
- [ ] Tested in both light and dark themes
- [ ] Navigation structure updated in `_meta.json`
- [ ] Build succeeds locally (`npm run build`)
- [ ] Screenshots are up-to-date
- [ ] Cross-references are accurate

## Maintenance

### Regular Tasks

**Monthly**:
- Check for broken links
- Update dependencies (`npm outdated`)
- Review and update screenshots
- Check analytics for popular pages

**Quarterly**:
- Review all content for accuracy
- Update code examples for latest version
- Check translation status
- Optimize slow-loading pages

**Annually**:
- Major content audit
- Restructure navigation if needed
- Update style guide
- Archive deprecated content

### Analytics

Track documentation usage with:

- **Google Analytics**: Page views, popular content
- **GitHub Insights**: Stars, forks, traffic
- **Search queries**: What users search for
- **Feedback**: Issue reports, PR comments

Use insights to:
- Prioritize improvements
- Identify confusing sections
- Guide translation efforts
- Plan new content

## Troubleshooting

### Common Issues

**Build fails**:
```bash
# Clear cache and rebuild
rm -rf .next out node_modules
npm install
npm run build
```

**Search not working**:
- Ensure `search.codeblocks: true` in next.config.mjs
- Rebuild to regenerate search index
- Check browser console for errors

**Styles not applying**:
- Check CSS syntax in globals.css
- Verify class names don't conflict
- Clear browser cache
- Check theme variables are defined

**i18n not showing**:
- Verify `i18n` array in theme.config.tsx
- Check locale file naming (`.es.mdx` not `.es-ES.mdx`)
- Ensure `_meta.json` exists for translated folders

## Resources

- [Nextra Documentation](https://nextra.site)
- [Next.js Documentation](https://nextjs.org/docs)
- [MDX Documentation](https://mdxjs.com)
- [Markdown Guide](https://www.markdownguide.org)
- [GitHub Pages Documentation](https://docs.github.com/pages)

## Getting Help

- **Documentation issues**: Open issue in GitHub repository
- **Nextra questions**: [Nextra GitHub Discussions](https://github.com/shuding/nextra/discussions)
- **Next.js questions**: [Next.js GitHub Discussions](https://github.com/vercel/next.js/discussions)
