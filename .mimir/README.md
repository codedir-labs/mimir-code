# Mimir Workspace

This directory contains Mimir's workspace-specific data and configuration.

## Directory Structure

```
.mimir/
├── config.yml          # Workspace configuration (tracked in git)
├── mimir.db            # Conversation history and metrics (ignored)
├── logs/               # Application logs (ignored)
├── commands/           # Custom slash commands (tracked)
├── themes/             # UI theme definitions (tracked)
├── checkpoints/        # Undo/restore checkpoints (ignored)
├── .gitignore          # Ignores sensitive data
└── README.md           # This file
```

## Files You Should Track in Git

✅ **config.yml** - Team configuration (shared settings, allowlists)
✅ **commands/** - Custom slash commands for your team
✅ **themes/** - Custom UI themes for your team
❌ **mimir.db** - Local conversation history (private)
❌ **logs/** - Application logs (private)
❌ **checkpoints/** - Code snapshots (private)

## Configuration

Edit `config.yml` to customize Mimir's behavior for this workspace:
- LLM provider and model settings
- Permission system (command allowlists)
- Rate limiting and budget controls
- UI preferences (including themes)

**API Keys:** Store in `.env` file in project root, not in config.yml!

## Database

`mimir.db` is a SQLite database containing:
- Conversation history
- Message tokens and costs
- Tool execution records
- Performance metrics
- Permission audit trail

Use `mimir history` commands to manage conversations.

## Custom Commands

Custom slash commands extend Mimir's capabilities with team-specific workflows.

### Example Commands Provided

Six example commands are pre-installed in `commands/`:
- **`/security`** - Analyze git diffs for security vulnerabilities
- **`/refactor`** - Suggest code refactoring improvements
- **`/test`** - Generate comprehensive test cases
- **`/docs`** - Generate or improve documentation
- **`/review`** - Perform comprehensive code review
- **`/perf`** - Analyze performance issues and optimizations

### Creating Custom Commands

Commands are defined in YAML files in `commands/` directory:

```yaml
# .mimir/commands/deploy.yml
name: deploy
description: Deploy application to specified environment
usage: /deploy [environment]
aliases: [d]
prompt: |
  Deploy the application to $1 environment.

  Steps:
  1. Run tests to ensure code quality
  2. Build production bundle
  3. Deploy to $1 environment
  4. Run smoke tests
  5. Monitor for errors

  Environment: $1 (or production if not specified)
```

**Placeholders:**
- `$1`, `$2`, `$3` - Individual arguments
- `$ARGUMENTS` - All arguments joined together

**Usage:**
```bash
/deploy staging          # Deploys to staging
/security src/auth.ts    # Security analysis of auth file
/test src/utils.ts       # Generate tests for utils
```

### Command Customization

Modify the example commands to match your workflow:
- Add team-specific context to prompts
- Customize analysis criteria
- Add project-specific checks
- Create domain-specific commands (e.g., `/api-design`, `/schema-migration`)

Commands in this directory are tracked in git and shared with your team.

## Custom Themes

Customize Mimir's appearance by creating theme files in `themes/` directory:
```bash
.mimir/themes/mimir.json        # Default theme (provided)
.mimir/themes/dark.json          # Dark theme (provided)
.mimir/themes/company-theme.json # Your custom theme
```

Select theme in `config.yml`:
```yaml
ui:
  theme: company-theme  # Loads from themes/company-theme.json
```

See the theme documentation for creating custom themes.

---

**Generated by Mimir v0.1.0**
